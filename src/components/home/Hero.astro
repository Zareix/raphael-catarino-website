---
import { getLangFromUrl, useTranslations } from '@/i18n/utils';
import heroPP from '@/assets/hero-pp.jpg';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<section
  id="hero"
  class="h-screen flex items-center justify-center gap-4 bg-gradient-to-b from-stone-300 to-stone-50 dark:from-slate-950 dark:to-slate-900"
>
  <div class="w-1/2">
    <h1>{t('hero.title')}</h1>
    <h2>{t('hero.subtitle')}</h2>
    <p
      class="fade-in-bottom first-letter:font-serif first-letter:text-3xl text-sm text-justify"
    >
      Depuis tout petit, je suis passionné par l'informatique et les nouvelles
      technologies. Ainsi, après avoir obtenu mon Baccalauréat général
      scientifique, puis mon DUT Informatique à l'IUT de Paris Rives de Seine
      (anciennement Descartes), je suis actuellement en alternance en tant que
      développeur full stack en parallèle d'un cursus d'ingénieur “Logiciels et
      SI” à EFREI Paris.<br /> J'aimerais ainsi continuer dans ce domaine pour en
      faire mon métier et vivre de ma passion.<br /> Vous trouverez sur ce site l'intégralité
      de mes compétences dans ce domaine ainsi que mes divers projets.
    </p>
  </div>
  <div class="w-1/3">
    <img
      src={heroPP}
      alt="hero"
      class="aspect-square object-cover rounded-xl fade-in-bottom"
    />
  </div>
</section>

<script>
  import { gsap } from 'gsap';
  import SplitType from 'split-type';

  const ourText = new SplitType('#hero :is(h1, h2)', { types: 'words, chars' });
  gsap
    .timeline()
    .from(ourText.chars, {
      y: 50,
      opacity: 0,
      stagger: 0.01,
      duration: 2,
      ease: 'power4.out',
    })
    .from('#hero .fade-in-bottom', {
      y: 50,
      opacity: 0,
      duration: 0.75,
      delay: -1.5,
      ease: 'power2.out',
      stagger: 0.2,
    })
    .fromTo(
      '#hero img',
      {
        yPercent: 0,
        ease: 'none',
      },
      {
        scrollTrigger: {
          start: 'top top',
          end: 'bottom top',
          scrub: true,
        },
        yPercent: -50,
        ease: 'none',
      }
    );
</script>
